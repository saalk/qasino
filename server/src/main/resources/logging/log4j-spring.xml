<?xml version="1.0" encoding="UTF-8"?>
<Configuration>
    <Appenders>
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout
                    pattern="%style{%d{ISO8601}}{black} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable" />
        </Console>

        <RollingFile name="roll-by-time-and-size"
                     fileName="target/log4j2/roll-by-time-and-size/cardgames.log"
                     filePattern="target/log4j2/roll-by-time-and-size/cardgames.%d{MM-dd-yyyy-HH-mm}.%i.log.gz"
                     ignoreExceptions="false">
            <PatternLayout>
                <Pattern>%d{yyyy-MM-dd HH:mm:ss} %p %m%n</Pattern>
            </PatternLayout>
            <Policies>
                <OnStartupTriggeringPolicy />
                <SizeBasedTriggeringPolicy size="1 MB" />
                <TimeBasedTriggeringPolicy />
            </Policies>
            <DefaultRolloverStrategy>
                <Delete basePath="${baseDir}" maxDepth="2">
                    <IfFileName glob="target/log4j2/roll-by-time-and-size/Qasino.*.log.gz" />
                    <IfLastModified age="14d" />
                </Delete>
            </DefaultRolloverStrategy>
        </RollingFile>
    </Appenders>

    <Loggers>
        <!-- low to high:
            OFF
            FATAL
            ERROR - used for production
            WARN
            INFO
            DEBUG - very useful to trouble shoot the issues
            TRACE
            ALL
        -->
        <!-- LOG everything at INFO level in development -->
        <Root level="info">
            <AppenderRef ref="Console" />
            <AppenderRef ref="roll-by-time-and-size" />
        </Root>

        <!-- LOG "cloud.Qasino*" at TRACE level for debugging purposes-->
        <Logger name="cloud.Qasino.*" level="trace"></Logger>
    </Loggers>

</Configuration>