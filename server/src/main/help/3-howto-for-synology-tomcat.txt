#
# folders
# - /volume1/@appstore/Tomcat7/src gekoppeld aan volume1/Tomcat
# - 
#
# 1. install tomcat on synology
# 2. add an admin user to tomcat (by default no admin is defined)
#    - install winscp and make synology ssh enabled and ssh on port 32800
#    - login as root : 
#    - go to /volume1/@appstore/Tomcat7/src/conf/tomcat-users.xml
#    - add 	<role rolename="manager-gui"/> <role rolename="admin-gui"/>
#		<user roles="manager-gui" password="" username=""/>
#    - add in /tomcat7/webapps/manager/WEB-INF/web.xml
#	<multipart-config>
#   	<!–- extend the 50MB max -–>
#   	<max-file-size>92428800</max-file-size>
#   	<max-request-size>92428800</max-request-size>
#   <file-size-threshold>0</file-size-threshold>
#</multipart-config>
# 3. install war file
#    - go to /var folder 
#    - mkdir cardgamesapi (standaard met octal 0755 = alleen maker kan schrijven)
#    - chmod 0777 cardgamesapi (geef iedereen schrijfrechten)
# 4. for transcoding mpeg ie. point the cardgamesapi to synology's ffmpeg instance
#    - ln -s /usr/syno/bin/ffmpeg /var/cardgamesapi/transcode/ffmpeg
# 5. stop and start tomcat to load the tomcat-users.xml file
#    - go to src/bin/ and do shutdown and startup
#    - cd /volume1/@appstore/Tomcat7/src/bin
#    - shutdown -r now (-r means reboot after shutdown)
#    - this does shutdown the diskstation...?
# 6. go to default tomcat port 7070 manager/html
#    - //SYNOLOGY_IP:7070 -> //192.168.2.100:7070/manager
#    - http://192.168.2.100:7070/manager/html
#    - in the browser do a deploy
#    - do sudo chown tomcat7:tomcat7 /var/cardgamesapi first ?
# 7. upload a war file
#    - the war file will be in src and auto unpacked after copying
#    - go to http://192.168.2.100:7070/app
#    - http://81.205.147.76/ needs a port forward
# 8. change the server.xml to have the shortName-gameDtos-webapp mapped to /
#    - delete the ROOT and add
#    - <Context path="/" docBase="shortName-gameDtos-webapp">
            <WatchedResource>WEB-INF/web.xml</WatchedResource>
       	</Context>
#    - stop and start via synology
