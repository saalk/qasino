@startuml src/main/resources/plantuml/Casino.png
		skinparam classAttributeIconSize 0
		package "cloud.qasino.quiz" {
		package "entity" {

class User {
- userId : int
- created : String
..
- userName : String
- email : String
- balance : int
- pawn : int
-- PREPARE --
+ pawnShip()
-- MAIN --
+ repayLoan()
}
User "1" -right- "n" Player: has played

class Player {
- playerId : int
- created : String
..
- (MoreToOne) userId : User
- (MoreToOne) gameId : Game
..
- avatar : String
- human : boolean
- aiLevel : AiLevel
- playingOrder : int
- balance : int
-- CRUD --
}
Player -right- AiLevel : intelligence
Player "n" -down- "1" Game : plays

enum AiLevel {
DUMB
NORMAL
SMART
..
HUMAN
}

class Game {
+ quizGameId : int
- created : String
..
- (OneToOne) winner: Player
..
- type : Type
- style : Style
- state : GameState
- ante: int
-- PREPARE --
+ setPlayingOrder(in: boolean humanFirst)
+ shuffleDeck(in: #jokers, out: deck)
-- MAIN --
+ layoutOnTable(out: playingQuizs on table)
+ getAllHands(out: playingQuizs per hand)
}

Game -left- Type : playingQuiz
Game -down- Style : style
Game "1" -right- "n" PlayingQuiz : deck

enum Type {
HIGHLOW
BLACKJACK
}

enum Style {
	anteToWin: enum
	bettingStrategy : enum
	numOfDeck : enum
	insuranceCost : enum
	roundsToWin : enum
	maxMoves : enum
}

class PlayingQuiz {
- playingQuizId : int
- created : String
..
- (MoreToOne) gameId : Game
- (MoreToOne) hand : Player
..
- value: int
- order : int
- location : Location
-- PREPARE --
- calculateValue(in:Type)
}
PlayingQuiz -down- Location
PlayingQuiz "0..n" -up- "0..1" Player : in hand

enum Location {
STACK
PILE_DRAW
PILE_DISQUIZ
HAND_OPEN
HAND_CLOSED
TABLE_MIDDLE
}


package "gameEngine" {
class Quiz {
- quizId: String
..
- rank : rank
- suit : suit
- thumbnailPath : String
--
}

class QuizEvent {
- quizEventId : int
- created : String
..
- (MoreToOne) playingQuizId : Quiz
- (MoreToOne) gameId : Game
- (MoreToOne) playerId : Player
.. json..
- playerOrder : int
- roundNumber : int
- moveNumber : int
- move : Move
- bet : int
-- PREPARE --
- validateAction(in: QuizEvent)
-- MAIN --
+ processAction(in/out: QuizEvent)
-- FINISH --
- updatePlayingQuizs()
- calculatePlayerBalance()
+ determineNextAction
(out: Player, Moves, GameState)
}
QuizEvent -up- Move : move

enum Move {
.. Generic
DEAL
PASS
HIGHER
LOWER
}
}
@enduml